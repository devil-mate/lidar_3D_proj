<launch>
    <arg name="logPath" default="/home/log/"/>
    <arg name="model" default="burger" doc="model type [burger, waffle, waffle_pi]"/>
    <arg name="groupNameSpace" default="robot"/>
    <!-- <arg name="groupNameSpace" default="tracked_vehicle"/> -->    
    <!-- <arg name="perRviz_open" default="false"/> -->
    <!-- <arg name="cmdGUI" default="false"/> -->
    <!-- <arg name="communicateRos" default="false"/> -->
    
    <arg name="launchRviz" default="false"/>
    <arg name="launchSim" default="true"/>
    <arg name="prefix" default="robot_"/> <!--frame prefix-->
    <arg name="config_prefix" default="sxl"/> <!--config prefix-->
    <arg name="launch_DebugNode" default="false"/>
    <arg name= "debug_config" default="$(find debug_pkg)/config/params.yaml"/>

    <!-- slam /定位 -->
    <arg name="launch_amcl" default="false"/> 
    <arg name="launch_vslam" default="false"/> 
    <arg name="launch_slam" default="true"/> 
    <arg name="slam_methods" default="cartographer" doc="slam type [gmapping, cartographer, hector, karto, frontier_exploration]"/>
    <!-- TODO 3D laser -->

    <!-- 仿真参数更改 -->
    <param name="use_sim_time" value="true" />
    <!-- <arg name="rvizConfig" default="$(find tv_navigation)/rviz/navigationsxl.rviz" /> -->
    <arg name="laser_raw_topic" default="front_laser/scan"/> 
    <arg name="imu_raw_data" default="imu/data_raw" />
    <arg name="imu_raw_mag" default="handsfree/mag" /> <!--default false-->
    <arg name="odom_raw_topic" default="robotnik_base_control/odom" />
    <arg name="img1_raw" default="robot_front_ptz_camera/image_raw"/> 
    <arg name="gps_raw" default="gps/NavSatFix"/>
    <arg name="cmd_vel_out" default="robotnik_base_control/cmd_vel"/>
    
    <!-- <arg name="laser_box_frame" default="$(arg prefix)_front_laser_base_link"/> -->
    <!-- <arg name="laser_frame" default="$(arg prefix)_front_laser_link"/> -->
    
     <!-- frame name -->
    <arg name="world_frame" default="$(arg prefix)map"/> 
    <arg name="map_frame" default="$(arg prefix)map"/>
    <arg name="odom_frame" default="$(arg prefix)odom"/>

    <arg name="base_frame" default="$(arg prefix)base_footprint"/>
    <arg name="laser_frame" default="$(arg prefix)front_laser_link"/>
    <arg name="laser_box_frame" default="$(arg prefix)front_laser_base_link"/>
    <arg name="imu_frame" default="$(arg prefix)imu_link"/>
    <arg name="imuFilter_fixed_frame" default="$(arg prefix)imu_link"/>
    
    <arg name="laser_filtered_topic" default="laser_filter"/>

    <group ns="$(arg groupNameSpace)">

        <node pkg="laser_filters" type="scan_to_scan_filter_chain" name="laser_filter">
            <rosparam command="load" file="$(find sxl_localization)/config_$(arg config_prefix)/laserfilter_params.yaml" subst_value="true"/>
            <remap from="scan" to="$(arg laser_raw_topic)" />
            <remap from="scan_filtered" to="$(arg laser_filtered_topic)" />
        </node>
        <include file="$(find sxl_slam)/launch/sxl_slam_cartographer_2d.launch"/>
    </group>


</launch>







